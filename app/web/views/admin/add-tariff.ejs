<link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>

<h3>Add Tariff</h3>
<form method="post" class="form-horizontal" role="form">
    <div class="col-6 mb-3">
        <label for="name" class="form-label">Supplier</label>
        <input type="text" name="name" class="form-control">
        <div class="form-text">Your electricity provider's name (ie Octopus Energy, EON, etc)</div>
    </div>
    <div class="col-6 mb-3">
        <label for="tariff_name" class="form-label">Tariff Name</label>
        <input type="text" name='tariff_name' class="form-control">
        <div class="form-text">Enter the name of your electricity tariff (ie Go, EV, etc)</div>
    </div>
    <div class="col-6 mb-3">
        <label for="tariff_type" class="form-label">Tariff Type</label>
        <select name='tariff_type' class="form-select" id="tariff_type">
            <option value="import">Import</option>
            <option value="export">Export</option>
        </select>
        <div class="form-text">Enter whether this tariff is for import or export (solar)</div>
    </div>
    <div class="col-6 mb-3" id="standing_charge_container">
        <label for="standing_charge" class="form-label">Standing Charge</label>
        <div class="input-group">
            <input type="number" name="standing_charge" class="form-control" pattern="^\d+(?:\.\d{1,2})?$" step="0.01">
            <div class="input-group-text">pence / day</div>
        </div>
        <div class="form-text">Enter your tariff's fixed daily standing charge in pence per day</div>
    </div>
    <div class="col-6 mb-3">
        <label for="supplier_start" class="form-label">Tariff Start Date</label>
        <input type="date" name="supplier_start" class="form-control" placeholder="2020-01-01">
        <div class="form-text">Enter the date your electricity tariff started</div>
    </div>
    <div class="col-6 mb-3">
        <label for="supplier_end" class="form-label">Tariff End Date</label>
        <input type="date" name="supplier_end" class="form-control" placeholder="2020-02-01">
        <div class="form-text">Leave blank for your current tariff</div>
    </div>
    <input type="submit" value="Add tariff &raquo;" class="btn btn-primary">
</form>

<script>
    const costText = document.getElementById('cost');
    const tariffTypeSelect = document.getElementById('tariff_type');
    const standingChargeContainer = document.getElementById('standing_charge_container');

    tariffTypeSelect.addEventListener('change', function () {
        if (tariffTypeSelect.value === 'export') {
            standingChargeContainer.style.display = 'none';
            costText.textContent = 'Return';
        } else {
            standingChargeContainer.style.display = 'block';
            costText.textContent = 'Cost';
        }
    });
</script>